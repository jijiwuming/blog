<div class="cage-posts">
    <% page.posts.each(function (page) { %>
        <div class="cage-post">
            <a class="post-link" href="<%- url_for(page.path) %>">
                <% if (page.cover){ %>
                <div
                    class="cage-post-cover mdui-ripple"
                >
                    <img
                        data-src="<%- page.cover %>"
                        data-sizes="auto"
                        alt="<%= page.title %>"
                        class="lazyload cage-post-cover-image"
                    />
                    <h1><%= page.title %></h1>
                </div>
                <%} else{ %>
                <div
                    class="cage-post-cover mdui-ripple"
                >
                    <img
                        data-sizes="auto"
                        alt="<%= page.title %>"
                        class="lazyload"
                    />
                    <h1><%= page.title %></h1>
                </div>
                <% } %>
            </a>

            <div class="cage-post-meta cage-rainbow">
                <span>
                    <i class="kirafont icon-calendar-fill"></i>
                    <%- date(page.date, "YYYY年MM月DD日") %>
                </span>
                <span>
                    <i class="kirafont icon-edit-fill"></i>
                    <%= wordcount(page.content) %> 字
                </span>
                <span>
                    <i class="kirafont icon-time-circle-fill"></i>大概
                    <%= min2read(page.content, {cn: 250, en: 160}) %> 分钟
                </span>
            </div>
    
            <% if(page.excerpt) {%>
                <article>
                    <%- image_auto_lazyload(page.excerpt) %>
                </article>
            <% } %>
        </div>
        <div class="cage-hr"></div>
    <% }) %>
</div>
<% if (page.total > 1){ %>
    <div class="cage-page-nav">
        <%- paginator({
            prev_text: '<i class="kirafont icon-left"></i>',
            next_text: '<i class="kirafont icon-right"></i>',
            escape: false
        }) %>
    </div>
<% } %>